!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("idOOd"),l=a("4AHmh"),d=a("8MBJY"),u=a("a2hTj"),c=(0,(s=a("idOOd")).default)(),f=function(){"use strict";function t(){e(d)(this,t)}return e(u)(t,[{key:"enable",value:function(){c.loadMoreBtn.disabled=!1,c.loadMoreLabel.textContent="Load more",c.loadMoreSpinner.classList.add("is-hidden")}},{key:"disable",value:function(){c.loadMoreBtn.disabled=!0,c.loadMoreLabel.textContent="Loading...",c.loadMoreSpinner.classList.remove("is-hidden")}},{key:"show",value:function(){c.loadMoreBtn.classList.remove("is-hidden")}},{key:"hide",value:function(){c.loadMoreBtn.classList.add("is-hidden")}}]),t}(),p=a("7uOHE"),h=a("guvAY"),v=a("6LFUk");a("7Py8V");var b=(0,s.default)(),y=new(0,l.default),k=new(0,h.default),w=new f,x=new(0,v.default);function L(){return(L=e(o)(e(i).mark((function t(r){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),b.title.classList.add("visually-hidden"),y.query=r.currentTarget.elements.searchQuery.value,(0,p.clearMarkupPhotoCards)(),y.resetPage(),e.prev=5,e.next=8,y.fetchPhotoCards();case 8:if(0!==(n=e.sent).total&&y.query){e.next=11;break}return e.abrupt("return",k.onFetchError());case 11:if((0,p.createMarkupPhotoCards)(n),k.onTotalPhotoCards(n.totalHits),!(n.totalHits<=y.currentPage*y.per_page)){e.next=16;break}return w.hide(),e.abrupt("return",k.onFinishPhotoCards());case 16:w.show(),w.enable(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),console.error(e.t0);case 23:case"end":return e.stop()}}),t,null,[[5,20]])})))).apply(this,arguments)}function M(){return(M=e(o)(e(i).mark((function t(){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.disable(),e.next=4,y.fetchPhotoCards();case 4:r=e.sent,(0,p.createMarkupPhotoCards)(r),w.enable(),r.totalHits<=y.currentPage*y.per_page&&(w.hide(),k.onFinishPhotoCards()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}b.searchForm.addEventListener("submit",(function(e){return L.apply(this,arguments)})),b.loadMoreBtn.addEventListener("click",(function(){return M.apply(this,arguments)})),b.scrollToTop.addEventListener("click",(function(){x.scrollToTop()})),document.addEventListener("scroll",(function(){x.handleScrollToTop()}))}();
//# sourceMappingURL=load-more.daa15b30.js.map
