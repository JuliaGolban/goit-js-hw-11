var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in t){var r=t[e];delete t[e];var a={id:e,exports:{}};return o[e]=a,r.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,o){t[e]=o},e.parcelRequired7c6=r);var a=r("hdB2L"),n=r("4n29c");const d=(0,(a=r("hdB2L")).default)();var l=r("dLGpv"),s=r("eH4wg"),i=r("bWgfq");const c=(0,a.default)(),u=new(0,n.default),h=new(0,s.default),f=new class{enable(){d.loadMoreBtn.disabled=!1,d.loadMoreLabel.textContent="Load more",d.loadMoreSpinner.classList.add("is-hidden")}disable(){d.loadMoreBtn.disabled=!0,d.loadMoreLabel.textContent="Loading...",d.loadMoreSpinner.classList.remove("is-hidden")}show(){d.loadMoreBtn.classList.remove("is-hidden")}hide(){d.loadMoreBtn.classList.add("is-hidden")}constructor(){}},p=new(0,i.default);c.searchForm.addEventListener("submit",(async function(e){e.preventDefault(),u.query=e.currentTarget.elements.searchQuery.value,(0,l.clearMarkupPhotoCards)(),u.resetPage();try{const e=await u.fetchPhotoCards();if(0===e.total||!u.query)return h.onFetchError();(0,l.createMarkupPhotoCards)(e),h.onTotalPhotoCards(e.totalHits),f.show(),f.enable()}catch(e){console.error(e)}})),c.loadMoreBtn.addEventListener("click",(async function(){try{f.disable();const e=await u.fetchPhotoCards();(0,l.createMarkupPhotoCards)(e),f.enable(),e.totalHits<=u.currentPage*u.per_page&&(f.hide(),h.onFinishPhotoCards())}catch(e){console.error(e)}})),c.scrollToTop.addEventListener("click",(()=>{p.scrollToTop()})),document.addEventListener("scroll",(()=>{p.handleScrollToTop()}));
//# sourceMappingURL=01-load-more.3d6d177a.js.map
